<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Rose Day Surprise ‚ù§Ô∏è</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;500&display=swap" rel="stylesheet">

<style>
    body {
        margin: 0;
        font-family: 'Poppins', sans-serif;
        background: radial-gradient(circle at top, #2b0a1a, #12040c);
        overflow-x: hidden;
        color: white;
        text-align: center;
    }

    h1 {
        font-family: 'Great Vibes', cursive;
        font-size: 42px;
        margin-top: 20px;
        color: #ffb6c1;
    }

    .instructions {
        font-size: 15px;
        opacity: 0.8;
        margin-bottom: 10px;
    }

    .builder {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin: 15px 0;
    }

    .piece-btn {
        font-size: 30px;
        padding: 10px 14px;
        border-radius: 50%;
        border: none;
        background: rgba(255,255,255,0.1);
        color: white;
        backdrop-filter: blur(6px);
        box-shadow: 0 0 10px rgba(255,182,193,0.4);
        cursor: pointer;
        transition: transform 0.2s ease;
    }

    .piece-btn:active {
        transform: scale(0.9);
    }

    .bouquet-area {
        position: relative;
        margin: 30px auto;
        width: 260px;
        height: 320px;
    }

    .piece {
        position: absolute;
        font-size: 26px;
        transition: all 0.8s cubic-bezier(.22,1.2,.36,1);
        opacity: 0;
    }

    .message {
        margin-top: 20px;
        font-size: 20px;
        font-family: 'Great Vibes', cursive;
        opacity: 0;
        transition: opacity 1.5s ease;
        padding: 0 20px;
    }

    .show-message {
        opacity: 1;
    }

    .music-btn {
        position: fixed;
        top: 15px;
        right: 15px;
        background: rgba(255,255,255,0.15);
        border: none;
        padding: 10px 14px;
        border-radius: 20px;
        color: white;
        backdrop-filter: blur(6px);
    }

    canvas {
        position: fixed;
        top: 0;
        left: 0;
        z-index: -1;
    }

    .heart-glow {
        animation: glow 2s infinite alternate;
    }

    @keyframes glow {
        from { text-shadow: 0 0 10px pink; }
        to { text-shadow: 0 0 25px hotpink; }
    }
</style>
</head>

<body>

<canvas id="roseCanvas"></canvas>

<button class="music-btn" onclick="toggleMusic()">üéµ Music</button>

<h1>Build Me a Rose Bouquet üåπ</h1>
<div class="instructions">Tap the pieces to create something beautiful ‚ù§Ô∏è</div>

<div class="builder">
    <button class="piece-btn" onclick="addPiece('üåπ')">üåπ</button>
    <button class="piece-btn" onclick="addPiece('üçÉ')">üçÉ</button>
    <button class="piece-btn" onclick="addPiece('üíñ')">üíñ</button>
</div>

<div class="bouquet-area" id="bouquet"></div>

<div class="message" id="finalMessage">
    You built this bouquet‚Ä¶ just like you built a place in my heart. üåπüíñ  
    Happy Rose Day, my love ‚ù§Ô∏è
</div>

<audio id="bgMusic" loop>
    <source src="romantic-music.mp3" type="audio/mpeg">
</audio>

<script>
const bouquet = document.getElementById("bouquet");
const message = document.getElementById("finalMessage");
let count = 0;

const layout = [
    {x:110,y:40},{x:80,y:70},{x:140,y:70},
    {x:60,y:110},{x:110,y:110},{x:160,y:110},
    {x:90,y:150},{x:130,y:150},{x:110,y:190}
];

function addPiece(emoji) {
    if (count >= layout.length) return;

    const piece = document.createElement("div");
    piece.className = "piece";
    piece.innerText = emoji;

    bouquet.appendChild(piece);

    setTimeout(() => {
        piece.style.left = layout[count].x + "px";
        piece.style.top = layout[count].y + "px";
        piece.style.opacity = 1;
    }, 50);

    count++;

    if (count === layout.length) {
        setTimeout(transformToHeart, 1200);
    }
}

function transformToHeart() {
    bouquet.innerHTML = "üíñ";
    bouquet.style.fontSize = "90px";
    bouquet.classList.add("heart-glow");
    message.classList.add("show-message");
}

function toggleMusic() {
    const music = document.getElementById("bgMusic");
    if (music.paused) music.play();
    else music.pause();
}

/* Falling Roses Animation */
const canvas = document.getElementById("roseCanvas");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let roses = [];

for (let i = 0; i < 25; i++) {
    roses.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        size: Math.random() * 20 + 10,
        speed: Math.random() * 1 + 0.5
    });
}

function drawRoses() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.font = "20px serif";
    roses.forEach(r => {
        ctx.fillText("üåπ", r.x, r.y);
        r.y += r.speed;
        if (r.y > canvas.height) {
            r.y = -20;
            r.x = Math.random() * canvas.width;
        }
    });
    requestAnimationFrame(drawRoses);
}

drawRoses();
</script>

</body>
</html>
