<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>For Karishma üåπ</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;500&display=swap" rel="stylesheet">

<style>
body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background: radial-gradient(circle at 50% 30%, #3a0d1f 0%, #1a0610 40%, #0b0207 100%);
    overflow-x: hidden;
    color: white;
    text-align: center;
}

body::after {
    content: "";
    position: fixed;
    inset: 0;
    background: radial-gradient(circle at center, transparent 55%, rgba(0,0,0,0.65) 100%);
    pointer-events: none;
}

h1 {
    font-family: 'Great Vibes', cursive;
    font-size: 44px;
    margin-top: 20px;
    color: #ffb6c1;
}

.instructions {
    font-size: 15px;
    opacity: 0.85;
}

.builder {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin: 15px 0;
}

.piece-btn {
    font-size: 30px;
    padding: 10px 14px;
    border-radius: 50%;
    border: none;
    background: rgba(255,255,255,0.18);
    color: white;
    backdrop-filter: blur(10px);
    box-shadow: 0 0 15px rgba(255,182,193,0.6);
}

/* CENTER AREA */
.bouquet-area {
    margin: 30px auto;
    width: 300px;
    height: 300px;
    perspective: 1000px;
    position: relative;
}

/* FLIP CARD */
.flip-card {
    width: 100%;
    height: 100%;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 1.2s;
}

.flip-card.flipped {
    transform: rotateY(180deg);
}

.card-face {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
}

.card-front {
    position: relative;
}

/* BACK SIDE IMAGE */
.card-back {
    transform: rotateY(180deg);
    display: flex;
    align-items: center;
    justify-content: center;
}

.card-back img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    animation: glow 2s infinite alternate;
}

@keyframes glow {
    from { filter: drop-shadow(0 0 10px pink); }
    to { filter: drop-shadow(0 0 30px hotpink); }
}

.piece {
    position: absolute;
    font-size: 28px;
    transition: all 0.8s cubic-bezier(.22,1.2,.36,1);
    opacity: 0;
}

.name-glow {
    font-family: 'Great Vibes', cursive;
    font-size: 34px;
    color: #ffc0cb;
    margin-top: 10px;
    opacity: 0;
    transition: opacity 2s ease;
}

.message {
    font-family: 'Great Vibes', cursive;
    font-size: 24px;
    padding: 0 25px;
    opacity: 0;
    transition: opacity 2s ease;
}

.show { opacity: 1; }

.music-btn {
    position: fixed;
    top: 15px;
    right: 15px;
    background: rgba(255,255,255,0.15);
    border: none;
    padding: 10px 14px;
    border-radius: 20px;
    color: white;
}

canvas {
    position: fixed;
    top: 0;
    left: 0;
    z-index: -2;
}
</style>
</head>

<body>

<canvas id="roseCanvas"></canvas>
<button class="music-btn" onclick="toggleMusic()">üéµ Music</button>

<h1>Build Me a Rose Bouquet üåπ</h1>
<div class="instructions">Tap the pieces to create something beautiful ‚ù§Ô∏è</div>

<div class="builder">
    <button class="piece-btn" onclick="addPiece('üåπ')">üåπ</button>
    <button class="piece-btn" onclick="addPiece('üçÉ')">üçÉ</button>
    <button class="piece-btn" onclick="addPiece('üíñ')">üíñ</button>
</div>

<div class="bouquet-area">
    <div class="flip-card" id="flipCard">
        <div class="card-face card-front" id="bouquetFront"></div>
        <div class="card-face card-back">
            <!-- Put your heart image file in same folder and name it heart.png -->
            <img src="heart.png" alt="Heart for Karishma">
        </div>
    </div>
</div>

<div class="name-glow" id="herName">Karishma üíñ</div>

<div class="message" id="finalMessage">
    You built this bouquet‚Ä¶ just like you built a place in my heart. üåπ  
    Happy Rose Day, my beautiful Karishma ‚ù§Ô∏è
</div>

<audio id="bgMusic" loop>
    <source src="romantic-music.mp3" type="audio/mpeg">
</audio>

<script>
const bouquetFront = document.getElementById("bouquetFront");
const flipCard = document.getElementById("flipCard");
const message = document.getElementById("finalMessage");
const herName = document.getElementById("herName");
let count = 0;

const layout = [
    {x:120,y:30},{x:80,y:70},{x:160,y:70},
    {x:60,y:120},{x:120,y:110},{x:180,y:120},
    {x:90,y:170},{x:150,y:170},{x:120,y:210}
];

function addPiece(emoji) {
    if (count >= layout.length) return;

    const piece = document.createElement("div");
    piece.className = "piece";
    piece.innerText = emoji;
    bouquetFront.appendChild(piece);

    setTimeout(() => {
        piece.style.left = layout[count].x + "px";
        piece.style.top = layout[count].y + "px";
        piece.style.opacity = 1;
    }, 50);

    count++;

    if (count === layout.length) {
        setTimeout(() => {
            flipCard.classList.add("flipped");
            message.classList.add("show");
            herName.classList.add("show");
        }, 1200);
    }
}

function toggleMusic() {
    const music = document.getElementById("bgMusic");
    music.paused ? music.play() : music.pause();
}

/* Falling Roses */
const canvas = document.getElementById("roseCanvas");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let roses = Array.from({length:25}, () => ({
    x: Math.random()*canvas.width,
    y: Math.random()*canvas.height,
    speed: Math.random()*1+0.5
}));

function drawRoses(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.globalAlpha = 0.35;
    ctx.font = "20px serif";
    roses.forEach(r=>{
        ctx.fillText("üåπ",r.x,r.y);
        r.y+=r.speed;
        if(r.y>canvas.height){r.y=-20;r.x=Math.random()*canvas.width;}
    });
    requestAnimationFrame(drawRoses);
}
drawRoses();
</script>

</body>
</html>
