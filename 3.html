<!DOCTYPE html>
<html lang="en">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Level 1 ‚ù§Ô∏è</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Poppins:wght@300;500&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  background:radial-gradient(circle at center,#2a0a16,#12040c);
  color:white;
  text-align:center;
  font-family:'Poppins',sans-serif;
  overflow:hidden;
}

h1{margin-top:20px;font-family:'Playfair Display',serif;}
p{font-size:14px;opacity:0.8;}

#timer{
  margin-top:5px;
  font-size:14px;
  opacity:0.7;
}

/* Grid */
.grid{
  display:grid;
  grid-template-columns:repeat(4,75px);
  gap:14px;
  justify-content:center;
  margin-top:25px;
}

.card{width:75px;height:75px;perspective:600px;}

.inner{
  width:100%;height:100%;
  position:relative;
  transform-style:preserve-3d;
  transition:transform 0.5s cubic-bezier(.22,1.3,.36,1);
}

.flipped .inner{transform:rotateY(180deg);}

.front,.back{
  position:absolute;width:100%;height:100%;
  border-radius:14px;
  display:flex;align-items:center;justify-content:center;
  font-size:32px;
  backface-visibility:hidden;
}

.front{background:linear-gradient(45deg,#ff4d6d,#ff85a2);}
.back{background:#330d1a;transform:rotateY(180deg);}

/* Compliment */
.compliment{
  position:fixed;
  bottom:22%;
  left:50%;
  transform:translateX(-50%);
  background:linear-gradient(45deg,#ff4d6d,#ff85a2);
  padding:14px 24px;
  border-radius:25px;
  font-size:20px;
  font-weight:500;
  text-align:center;
  color:white;
  box-shadow:0 0 15px rgba(255,105,180,0.6);
  animation:fadeUp 2.2s ease forwards;
}

@keyframes fadeUp{
  0%{opacity:0; transform:translate(-50%,25px) scale(0.9);}
  20%{opacity:1; transform:translate(-50%,0) scale(1);}
  80%{opacity:1;}
  100%{opacity:0; transform:translate(-50%,-25px) scale(0.95);}
}

/* Floating hearts */
.reward-heart{
  position:absolute;
  font-size:22px;
  animation:floatUp 2s ease forwards;
}
@keyframes floatUp{
  0%{opacity:1; transform:translateY(0) scale(1);}
  100%{opacity:0; transform:translateY(-120px) scale(0.5);}
}

/* Confetti */
.confetti{
  position:absolute;
  width:6px;height:6px;
  background:hsl(var(--hue),80%,60%);
  animation:confettiFall 2s linear forwards;
}
@keyframes confettiFall{
  to{transform:translateY(100vh) rotate(720deg);opacity:0;}
}

/* Win screen */
.win{
  position:fixed;inset:0;
  background:rgba(0,0,0,0.92);
  display:flex;flex-direction:column;
  justify-content:center;align-items:center;
  opacity:0;pointer-events:none;
  transition:opacity 1s ease;
}
.win.show{opacity:1;pointer-events:auto;}
.win h2{font-family:'Playfair Display',serif;font-size:26px;}
.win button{
  padding:12px 22px;border:none;border-radius:30px;
  font-size:18px;background:#ff4d6d;color:white;cursor:pointer;margin-top:10px;
}
.small-btn{margin-top:10px;background:#444;}
</style>
</head>
<body>

<h1>Level 1: Match the Love üíñ</h1>
<p>Find all the matching pairs to unlock my heart üíò</p>
<div id="timer">Time: 0s</div>

<div class="grid" id="grid"></div>

<div class="win" id="winScreen">
  <h2>üíù You unlocked my heart, Karishma!</h2>
  <p>You did it in <span id="finalTime"></span> seconds üíñ</p>
  <button onclick="goNext()">Continue üíò</button>
  <button class="small-btn" onclick="restartGame()">Play Again üîÑ</button>
</div>

<script>
const compliments=[
 "Karishma, you‚Äôre my perfect match üíë",
 "So cute, just like you Karishma üíï",
 "Karishma, you make my heart smile üòä",
 "Made for each other, Karishma üíñ"
];

const emojis=["üíñ","üåπ","üíç","üíò","üíñ","üåπ","üíç","üíò"];
let timer=0, timerInterval;

function startTimer(){
  timerInterval=setInterval(()=>{
    timer++;
    document.getElementById("timer").textContent="Time: "+timer+"s";
  },1000);
}

function stopTimer(){ clearInterval(timerInterval); }

function shuffle(a){return a.sort(()=>Math.random()-0.5);}

function createBoard(){
  const grid=document.getElementById("grid");
  grid.innerHTML="";
  shuffle(emojis).forEach(e=>{
    const card=document.createElement("div");
    card.className="card";
    card.innerHTML=`<div class="inner"><div class="front">üíó</div><div class="back">${e}</div></div>`;
    grid.appendChild(card);
  });
  setupGame();
}

let first=null,second=null,lock=false,matched=0;

function setupGame(){
  document.querySelectorAll(".card").forEach(card=>{
    card.onclick=()=>{
      if(lock||card.classList.contains("flipped"))return;
      card.classList.add("flipped");

      if(!first) first=card;
      else{
        second=card; lock=true;
        setTimeout(()=>{
          const v1=first.querySelector(".back").textContent;
          const v2=second.querySelector(".back").textContent;
          if(v1!==v2){
            first.classList.remove("flipped");
            second.classList.remove("flipped");
          }else{
            matched++;
            showCompliment();
            createHearts();
          }
          first=second=null; lock=false;
          if(matched===4) showWin();
        },700);
      }
    }
  });
}

function showCompliment(){
  const msg=document.createElement("div");
  msg.className="compliment";
  msg.textContent=compliments[Math.floor(Math.random()*compliments.length)];
  document.body.appendChild(msg);
  setTimeout(()=>msg.remove(),2200);
}

function createHearts(n=8){
  for(let i=0;i<n;i++){
    const h=document.createElement("div");
    h.className="reward-heart";
    h.innerHTML="üíñ";
    h.style.left=Math.random()*100+"vw";
    h.style.top=Math.random()*100+"vh";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),2000);
  }
}

function confettiBurst(){
  for(let i=0;i<60;i++){
    const c=document.createElement("div");
    c.className="confetti";
    c.style.left=Math.random()*100+"vw";
    c.style.top="-10px";
    c.style.setProperty("--hue",Math.random()*360);
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),2000);
  }
}

function showWin(){
  stopTimer();
  document.getElementById("finalTime").textContent=timer;
  document.getElementById("winScreen").classList.add("show");
  createHearts(25);
  confettiBurst();
}

function goNext(){ window.location="catch.html"; }
function restartGame(){
  matched=0; first=null; second=null;
  document.getElementById("winScreen").classList.remove("show");
  timer=0; document.getElementById("timer").textContent="Time: 0s";
  createBoard(); startTimer();
}

createBoard();
startTimer();
</script>

</body>
</html>
